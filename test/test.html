<html>
    <head>
        <title>elm-geocoding</title>
    </head>

    <body>
        <div>
            <input id="gapi" type="text" placeholder="Enter Google API key" />
            <button type="button" onclick="javascript:setup();">Setup</button>
        </div>

        <div id="elm"></div>

        <script type="text/javascript" src="test.js"></script>
        <script type="text/javascript">
            // This gets called once Google API is ready.
            function initialize () {
                Elm.embed(Elm.Test, document.getElementById('elm'));
            }

            function setup () {
                var gapi = document.getElementById('gapi').value;
                var script = document.createElement('script');

                script.type = "text/javascript";
                script.src = "https://maps.googleapis.com/maps/api/js?key=" + gapi + "&sensor=false&callback=initialize";
                document.body.appendChild(script);
            }
        </script>
    </body>
</html>